<!DOCTYPE html>
<html>
<head>
    <title>Teste API</title>
</head>
<body>
    <h1>Teste da API de Eventos</h1>
    <button onclick="testarAPI()">Testar Buscar Eventos</button>
    <div id="resultado"></div>

    <script>
        async function testarAPI() {
            try {
                console.log('üîç Fazendo fetch...');
                const response = await fetch('http://localhost:3000/api/eventos');
                console.log('üì° Response status:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ Dados recebidos:', data);
                    
                    document.getElementById('resultado').innerHTML = `
                        <h2>Eventos encontrados: ${data.length}</h2>
                        ${data.map(evento => `
                            <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                                <h3>${evento.titulo}</h3>
                                <p><strong>ID:</strong> ${evento.id}</p>
                                <p><strong>Tem Imagem:</strong> ${evento.imagem ? 'Sim' : 'N√£o'}</p>
                                <p><strong>Tipo de Imagem:</strong> ${evento.imagem ? evento.imagem.substring(0, 20) + '...' : 'null'}</p>
                                ${evento.imagem && evento.imagem.startsWith('data:image') ? 
                                    `<img src="${evento.imagem}" style="max-width: 100px; max-height: 100px;" />` : 
                                    '<p>Sem imagem v√°lida</p>'
                                }
                            </div>
                        `).join('')}
                    `;
                } else {
                    console.error('‚ùå Erro na resposta:', response.status);
                    document.getElementById('resultado').innerHTML = `<p>Erro: ${response.status}</p>`;
                }
            } catch (error) {
                console.error('‚ùå Erro na requisi√ß√£o:', error);
                document.getElementById('resultado').innerHTML = `<p>Erro: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>